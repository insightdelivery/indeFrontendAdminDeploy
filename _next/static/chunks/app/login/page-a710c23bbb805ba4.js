(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{3176:function(e,s,r){Promise.resolve().then(r.bind(r,8991))},9376:function(e,s,r){"use strict";var t=r(5475);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},8991:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return x}});var t=r(7437),n=r(2265),a=r(9376),i=r(9501),l=r(3590),o=r(7119),d=r(2381),c=r(279),m=r(5060),u=r(9636),p=r(3340);let f=o.Ry({memberShipId:o.Z_().min(1,"회원 ID를 입력해주세요"),password:o.Z_().min(1,"비밀번호를 입력해주세요")});function h(){let e=(0,a.useRouter)(),s=(0,a.useSearchParams)(),{toast:r}=(0,p.pm)(),[o,h]=(0,n.useState)(!1),{register:x,handleSubmit:b,formState:{errors:g}}=(0,i.cI)({resolver:(0,l.F)(f)}),v=async t=>{h(!0);try{console.log("로그인 시도:",t);let n=await (0,u.x4)(t);console.log("로그인 성공 응답:",n),(0,u.Fm)(n.access_token,n.refresh_token,n.user),r({title:"로그인 성공",description:n.user.memberShipName?"".concat(n.user.memberShipName,"님, 환영합니다!"):"관리자 대시보드로 이동합니다.",duration:3e3});let a=s.get("redirect")||"/admin";e.push(a)}catch(s){var n,a,i,l,o,d;console.error("로그인 오류:",s),console.error("오류 응답:",null===(n=s.response)||void 0===n?void 0:n.data);let e="로그인에 실패했습니다.";(null===(l=s.response)||void 0===l?void 0:null===(i=l.data)||void 0===i?void 0:null===(a=i.IndeAPIResponse)||void 0===a?void 0:a.Message)?e=s.response.data.IndeAPIResponse.Message:(null===(d=s.response)||void 0===d?void 0:null===(o=d.data)||void 0===o?void 0:o.error)?e=s.response.data.error:s.message&&(e=s.message),r({title:"로그인 실패",description:e,variant:"destructive",duration:3e3})}finally{h(!1)}};return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-brand-grey",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-8 rounded-lg bg-white p-8 shadow-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"mt-6 text-center text-5xl font-bold tracking-tight text-neon-yellow mb-2",children:"인디 INDE"}),(0,t.jsx)("h3",{className:"text-center text-2xl font-semibold text-gray-900 mb-2",children:"관리자 로그인"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"관리자 계정으로 로그인하세요"})]}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:b(v),children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(m._,{htmlFor:"memberShipId",children:"회원 ID"}),(0,t.jsx)(c.I,{id:"memberShipId",type:"text",autoComplete:"username",...x("memberShipId"),className:"mt-1"}),g.memberShipId&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.memberShipId.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m._,{htmlFor:"password",children:"비밀번호"}),(0,t.jsx)(c.I,{id:"password",type:"password",autoComplete:"current-password",...x("password"),className:"mt-1"}),g.password&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.password.message})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(d.z,{type:"submit",className:"w-full bg-neon-yellow text-black hover:bg-opacity-90 font-semibold",disabled:o,children:o?"로그인 중...":"로그인"})})]})]})})}function x(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-brand-grey",children:(0,t.jsx)("div",{className:"w-full max-w-md space-y-8 rounded-lg bg-white p-8 shadow-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neon-yellow mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"로딩 중..."})]})})}),children:(0,t.jsx)(h,{})})}},279:function(e,s,r){"use strict";r.d(s,{I:function(){return i}});var t=r(7437),n=r(2265),a=r(3448);let i=n.forwardRef((e,s)=>{let{className:r,type:n,...i}=e;return(0,t.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...i})});i.displayName="Input"},5060:function(e,s,r){"use strict";r.d(s,{_:function(){return d}});var t=r(7437),n=r(2265),a=r(370),i=r(535),l=r(3448);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)(a.f,{ref:s,className:(0,l.cn)(o(),r),...n})});d.displayName=a.f.displayName}},function(e){e.O(0,[186,85,589,243,971,117,744],function(){return e(e.s=3176)}),_N_E=e.O()}]);