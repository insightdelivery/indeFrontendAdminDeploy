(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157);let i=t.forwardRef(({className:e,...t},i)=>(0,s.jsx)("div",{ref:i,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=t.forwardRef(({className:e,...t},i)=>(0,s.jsx)("div",{ref:i,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let r=t.forwardRef(({className:e,...t},i)=>(0,s.jsx)("h3",{ref:i,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));r.displayName="CardTitle",t.forwardRef(({className:e,...t},i)=>(0,s.jsx)("p",{ref:i,className:(0,a.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let n=t.forwardRef(({className:e,...t},i)=>(0,s.jsx)("div",{ref:i,className:(0,a.cn)("p-6 pt-0",e),...t}));n.displayName="CardContent",t.forwardRef(({className:e,...t},i)=>(0,s.jsx)("div",{ref:i,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>i,"CardContent",()=>n,"CardHeader",()=>l,"CardTitle",()=>r])},93479,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157);let i=t.forwardRef(({className:e,type:t,...i},l)=>(0,s.jsx)("input",{type:t,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...i}));i.displayName="Input",e.s(["Input",()=>i])},7233,e=>{"use strict";let s=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},88511,e=>{"use strict";let s=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);e.s(["Edit",()=>s],88511)},55436,e=>{"use strict";let s=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>s],55436)},69050,e=>{"use strict";var s=e.i(63816);let t="/publicMembers";function a(e){let s=e?.IndeAPIResponse;return s?.Result!==void 0?s.Result:e?.Result!==void 0?e.Result:e}async function i(e){let{data:i}=await s.default.get(`${t}/`,{params:e});return a(i)}async function l(e){let{data:i}=await s.default.get(`${t}/${e}/`);return a(i)}async function r(e){let{data:i}=await s.default.post(`${t}/`,e);return a(i)}async function n(e,i){let{data:l}=await s.default.put(`${t}/${e}/`,i);return a(l)}async function d(e){await s.default.delete(`${t}/${e}/`)}e.s(["createPublicMember",()=>r,"deletePublicMember",()=>d,"getPublicMember",()=>l,"getPublicMemberList",()=>i,"updatePublicMember",()=>n])},48268,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(22016),i=e.i(69050),l=e.i(8406),r=e.i(19455),n=e.i(93479),d=e.i(76639),c=e.i(15288),o=e.i(7233),x=e.i(55436),m=e.i(88511),h=e.i(27612);let u={LOCAL:"로컬",KAKAO:"카카오",NAVER:"네이버",GOOGLE:"구글"};function j(e){return e?new Date(e).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}function p(){let{toast:e}=(0,l.useToast)(),[p,g]=(0,t.useState)([]),[f,y]=(0,t.useState)(!0),[N,v]=(0,t.useState)(1),[b,w]=(0,t.useState)(0),[C,k]=(0,t.useState)(""),[_,S]=(0,t.useState)(!1),[D,P]=(0,t.useState)(null),[R,M]=(0,t.useState)(!1),[B,T]=(0,t.useState)(null),[$,A]=(0,t.useState)(!1),O=(0,t.useCallback)(async s=>{let t=s??N;try{y(!0);let e=await (0,i.getPublicMemberList)({page:t,page_size:20,search:C||void 0});g(Array.isArray(e.results)?e.results:[]),w("number"==typeof e.count?e.count:0),null!=s&&v(s)}catch(s){e({title:"오류",description:s.message||"회원 목록을 불러오는데 실패했습니다.",variant:"destructive",duration:3e3})}finally{y(!1)}},[N,C,e]);(0,t.useEffect)(()=>{O()},[O]);let I=async()=>{if(null!=D)try{await (0,i.deletePublicMember)(D),e({title:"삭제 완료",description:"회원이 삭제되었습니다.",duration:3e3}),S(!1),P(null),O()}catch(s){e({title:"오류",description:s.message||"삭제에 실패했습니다.",variant:"destructive",duration:3e3})}},E=async s=>{M(!0),T(null),A(!0);try{let e=await (0,i.getPublicMember)(s);T(e)}catch(s){e({title:"오류",description:s.message||"회원 상세를 불러오는데 실패했습니다.",variant:"destructive",duration:3e3})}finally{A(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"사용자 관리"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"공개 회원(PublicMemberShip) 목록을 조회·수정·삭제할 수 있습니다."})]}),(0,s.jsx)(a.default,{href:"/admin/users/new",children:(0,s.jsxs)(r.Button,{className:"bg-neon-yellow hover:bg-neon-yellow/90 text-black",children:[(0,s.jsx)(o.Plus,{className:"h-4 w-4 mr-2"}),"새 회원"]})})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Search,{className:"h-5 w-5 text-gray-500"}),(0,s.jsx)(n.Input,{placeholder:"이메일·이름·닉네임·연락처 검색",value:C,onChange:e=>k(e.target.value),onKeyDown:e=>"Enter"===e.key&&O(1),className:"max-w-xs"}),(0,s.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>O(1),children:"검색"})]})}),(0,s.jsxs)(c.CardContent,{children:[f?(0,s.jsx)("p",{className:"text-gray-500 py-8 text-center",children:"불러오는 중..."}):(p?.length??0)===0?(0,s.jsx)("p",{className:"text-gray-500 py-8 text-center",children:"등록된 회원이 없습니다."}):(0,s.jsx)("div",{className:"border rounded-lg overflow-hidden overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm min-w-[800px]",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-3 font-medium w-16",children:"SID"}),(0,s.jsx)("th",{className:"text-left p-3 font-medium",children:"이메일"}),(0,s.jsx)("th",{className:"text-left p-3 font-medium",children:"이름"}),(0,s.jsx)("th",{className:"text-left p-3 font-medium",children:"닉네임"}),(0,s.jsx)("th",{className:"text-left p-3 font-medium",children:"연락처"}),(0,s.jsx)("th",{className:"text-center p-3 font-medium w-20",children:"가입경로"}),(0,s.jsx)("th",{className:"text-center p-3 font-medium w-16",children:"활성"}),(0,s.jsx)("th",{className:"text-right p-3 font-medium w-32",children:"가입일"}),(0,s.jsx)("th",{className:"text-right p-3 font-medium w-28",children:"관리"})]})}),(0,s.jsx)("tbody",{children:p.map(e=>(0,s.jsxs)("tr",{className:"border-b last:border-0 hover:bg-gray-50 cursor-pointer",onClick:()=>E(e.member_sid),children:[(0,s.jsx)("td",{className:"p-3 text-gray-600",children:e.member_sid}),(0,s.jsx)("td",{className:"p-3 font-medium",children:e.email}),(0,s.jsx)("td",{className:"p-3",children:e.name}),(0,s.jsx)("td",{className:"p-3",children:e.nickname}),(0,s.jsx)("td",{className:"p-3",children:e.phone}),(0,s.jsx)("td",{className:"p-3 text-center text-gray-600",children:u[e.joined_via]??e.joined_via}),(0,s.jsx)("td",{className:"p-3 text-center",children:e.is_active?(0,s.jsx)("span",{className:"text-green-600",children:"Y"}):(0,s.jsx)("span",{className:"text-red-600",children:"N"})}),(0,s.jsx)("td",{className:"p-3 text-right text-gray-600",children:j(e.created_at)}),(0,s.jsxs)("td",{className:"p-3 text-right",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(a.default,{href:`/admin/users/edit?id=${e.member_sid}`,children:(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",className:"mr-1",children:(0,s.jsx)(m.Edit,{className:"h-4 w-4"})})}),(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>{P(e.member_sid),S(!0)},children:(0,s.jsx)(h.Trash2,{className:"h-4 w-4"})})]})]},e.member_sid))})]})}),b>20&&(0,s.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,s.jsxs)("span",{className:"text-gray-500 text-sm",children:["총 ",b,"건"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Button,{variant:"outline",size:"sm",disabled:N<=1,onClick:()=>v(e=>e-1),children:"이전"}),(0,s.jsx)(r.Button,{variant:"outline",size:"sm",disabled:20*N>=b,onClick:()=>v(e=>e+1),children:"다음"})]})]})]})]}),(0,s.jsx)(d.Dialog,{open:_,onOpenChange:S,children:(0,s.jsxs)(d.DialogContent,{children:[(0,s.jsxs)(d.DialogHeader,{children:[(0,s.jsx)(d.DialogTitle,{children:"회원 삭제"}),(0,s.jsx)(d.DialogDescription,{children:"이 회원을 삭제하시겠습니까? 복구할 수 없습니다."})]}),(0,s.jsxs)(d.DialogFooter,{children:[(0,s.jsx)(r.Button,{variant:"outline",onClick:()=>S(!1),children:"취소"}),(0,s.jsx)(r.Button,{variant:"destructive",onClick:I,children:"삭제"})]})]})}),(0,s.jsx)(d.Dialog,{open:R,onOpenChange:M,children:(0,s.jsxs)(d.DialogContent,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[(0,s.jsx)(d.DialogHeader,{children:(0,s.jsx)(d.DialogTitle,{children:"회원 상세"})}),$?(0,s.jsx)("p",{className:"text-gray-500 py-6",children:"불러오는 중..."}):B?(0,s.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"회원 SID"}),(0,s.jsx)("p",{className:"font-medium",children:B.member_sid})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"이메일"}),(0,s.jsx)("p",{children:B.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"이름"}),(0,s.jsx)("p",{children:B.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"닉네임"}),(0,s.jsx)("p",{children:B.nickname})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"연락처"}),(0,s.jsx)("p",{children:B.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"직분"}),(0,s.jsx)("p",{children:B.position??"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"가입 경로"}),(0,s.jsx)("p",{children:u[B.joined_via]??B.joined_via})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"활성"}),(0,s.jsx)("p",{children:B.is_active?"예":"아니오"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"관리자"}),(0,s.jsx)("p",{children:B.is_staff?"예":"아니오"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"이메일 인증"}),(0,s.jsx)("p",{children:B.email_verified?"완료":"미완료"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"가입일"}),(0,s.jsx)("p",{children:j(B.created_at)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"마지막 로그인"}),(0,s.jsx)("p",{children:j(B.last_login)})]})]}),(B.region_type||B.region_domestic||B.region_foreign)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"지역"}),(0,s.jsx)("p",{children:"DOMESTIC"===B.region_type?B.region_domestic:B.region_foreign??"-"})]})]}):(0,s.jsx)("p",{className:"text-gray-500 py-6",children:"내용을 불러올 수 없습니다."}),(0,s.jsxs)(d.DialogFooter,{children:[B&&(0,s.jsx)(a.default,{href:`/admin/users/edit?id=${B.member_sid}`,children:(0,s.jsx)(r.Button,{className:"bg-neon-yellow hover:bg-neon-yellow/90 text-black",children:"수정"})}),(0,s.jsx)(r.Button,{variant:"outline",onClick:()=>M(!1),children:"닫기"})]})]})})]})}e.s(["default",()=>p])}]);