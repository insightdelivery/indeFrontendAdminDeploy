(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69104,83235,69716,e=>{"use strict";e.i(47167);var s=e.i(63816),a=e.i(17595);let t=async e=>{try{let a=(await s.default.get("/video/list",{params:e})).data.IndeAPIResponse;if(!a||"00"!==a.ErrorCode)throw Error(a?.Message||"비디오/세미나 목록 조회에 실패했습니다.");if(!a.Result)throw Error("응답 데이터가 없습니다.");return a.Result}catch(s){let e="비디오/세미나 목록 조회에 실패했습니다.";throw s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),Error(e)}},r=async e=>{try{let a=(await s.default.get(`/video/${e}`)).data.IndeAPIResponse;if(!a||"00"!==a.ErrorCode)throw Error(a?.Message||"비디오/세미나 조회에 실패했습니다.");if(!a.Result)throw Error("응답 데이터가 없습니다.");return a.Result}catch(s){let e="비디오/세미나 조회에 실패했습니다.";throw s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),Error(e)}},l=async e=>{try{let a=(await s.default.post("/video/create",e)).data.IndeAPIResponse;if(!a||"00"!==a.ErrorCode)throw Error(a?.Message||"비디오/세미나 생성에 실패했습니다.");if(!a.Result)throw Error("응답 데이터가 없습니다.");return a.Result}catch(s){let e="비디오/세미나 생성에 실패했습니다.";throw s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),Error(e)}},i=async e=>{try{let a=(await s.default.put(`/video/${e.id}`,e)).data.IndeAPIResponse;if(!a||"00"!==a.ErrorCode)throw Error(a?.Message||"비디오/세미나 수정에 실패했습니다.");if(!a.Result)throw Error("응답 데이터가 없습니다.");return a.Result}catch(s){let e="비디오/세미나 수정에 실패했습니다.";throw s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),Error(e)}},d=async e=>{try{let a=(await s.default.delete(`/video/${e}`)).data.IndeAPIResponse;if(!a||"00"!==a.ErrorCode)throw Error(a?.Message||"비디오/세미나 삭제에 실패했습니다.")}catch(s){let e="비디오/세미나 삭제에 실패했습니다.";throw s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),Error(e)}},o=async e=>{try{let a=(await s.default.delete("/video/batch-delete",{data:{ids:e}})).data.IndeAPIResponse;if(!a||"00"!==a.ErrorCode)throw Error(a?.Message||"비디오/세미나 일괄 삭제에 실패했습니다.")}catch(s){let e="비디오/세미나 일괄 삭제에 실패했습니다.";throw s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),Error(e)}},n=async(e,a)=>{try{let t=(await s.default.put("/video/batch-status",{ids:e,status:a})).data.IndeAPIResponse;if(!t||"00"!==t.ErrorCode)throw Error(t?.Message||"비디오/세미나 상태 변경에 실패했습니다.")}catch(s){let e="비디오/세미나 상태 변경에 실패했습니다.";throw s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),Error(e)}},c=async(t,r)=>new Promise((l,i)=>{try{if(t.size>0x80000000)return void i(Error(`파일 크기가 2GB를 초과합니다. (현재: ${(t.size/0x40000000).toFixed(2)}GB)`));e.A(47082).then(({Upload:e})=>{let d="https://admin-api.inde.kr",o=a.default.get("accessToken");if(!o)return void i(Error("인증 토큰이 없습니다. 다시 로그인해주세요."));let n=btoa(encodeURIComponent(t.name));console.log("[TUS Upload] 업로드 시작:",{endpoint:`${d}/video/upload/tus/`,filename:t.name,size:t.size,token:o?`${o.substring(0,20)}...`:"없음"});let c=a.default.get("accessToken");if(!c)return void i(Error("인증 토큰이 없습니다. 다시 로그인해주세요."));let m=null,h=!1,p=new e(t,{endpoint:`${d}/video/upload/tus/`,retryDelays:[0,3e3,5e3,1e4,2e4],metadata:{filename:n,filetype:"video/mp4"},headers:{Authorization:`Bearer ${c}`},chunkSize:5242880,removeFingerprintOnSuccess:!1,onError:async o=>{console.error("[TUS Upload] 업로드 오류:",o);let c=o.message||"";if((c.includes("401")||c.includes("Unauthorized")||c.includes("403")||c.includes("Forbidden"))&&!h)try{h=!0,console.log("[TUS Upload] 인증 오류 감지, 토큰 갱신 시도..."),await s.default.post("/adminMember/tokenrefresh",{});let o=a.default.get("accessToken");if(o){console.log("[TUS Upload] 토큰 갱신 성공, 업로드 재시도..."),m&&m.abort(),setTimeout(()=>{h=!1;let a=new e(t,{endpoint:`${d}/video/upload/tus/`,retryDelays:[0,3e3,5e3,1e4,2e4],metadata:{filename:n,filetype:"video/mp4"},headers:{Authorization:`Bearer ${o}`},chunkSize:5242880,removeFingerprintOnSuccess:!1,onError:e=>{console.error("[TUS Upload] 재시도 후 오류:",e),i(Error(`비디오 업로드 실패: ${e.message}`))},onProgress:(e,s)=>{r&&r(e/s*100)},onSuccess:async()=>{try{console.log("[TUS Upload] 업로드 완료, Cloudflare Stream으로 전송 중...");let e=a.url;if(!e)return void i(Error("업로드 URL을 찾을 수 없습니다."));let t=e.match(/\/upload\/tus\/([^\/]+)/);if(!t)return void i(Error("업로드 ID를 찾을 수 없습니다."));let d=t[1],o=(await s.default.post(`/video/upload/tus/${d}/complete`)).data.IndeAPIResponse;if(!o||"00"!==o.ErrorCode)return void i(Error(o?.Message||"Cloudflare Stream 업로드에 실패했습니다."));if(!o.Result)return void i(Error("응답 데이터가 없습니다."));let n=o.Result;r&&r(100),console.log("[TUS Upload] Cloudflare Stream 업로드 완료:",n.videoStreamId),l({videoStreamId:n.videoStreamId,embedUrl:n.embedUrl,thumbnailUrl:n.thumbnailUrl,hlsUrl:n.hlsUrl,dashUrl:n.dashUrl,videoInfo:n.videoInfo||{}})}catch(s){console.error("[TUS Upload] 완료 처리 오류:",s);let e="비디오 업로드 완료 처리에 실패했습니다.";s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),i(Error(e))}}});m=a,a.start()},500);return}h=!1,i(Error("토큰 갱신 후에도 토큰을 찾을 수 없습니다. 다시 로그인해주세요."))}catch(e){h=!1,console.error("[TUS Upload] 토큰 갱신 실패:",e),i(Error(`인증 오류: 토큰 갱신에 실패했습니다. ${e.message}`))}else i(Error(`비디오 업로드 실패: ${o.message}`))},onProgress:(e,s)=>{if(r){let a=e/s*100;console.log(`[TUS Upload] 진행률: ${a.toFixed(2)}% (${e}/${s} bytes)`),r(a)}},onSuccess:async()=>{try{console.log("[TUS Upload] 업로드 완료, Cloudflare Stream으로 전송 중...");let e=(m||p).url;if(!e)return void i(Error("업로드 URL을 찾을 수 없습니다."));let a=e.match(/\/upload\/tus\/([^\/]+)/);if(!a)return void i(Error("업로드 ID를 찾을 수 없습니다."));let t=a[1],d=(await s.default.post(`/video/upload/tus/${t}/complete`)).data.IndeAPIResponse;if(!d||"00"!==d.ErrorCode)return void i(Error(d?.Message||"Cloudflare Stream 업로드에 실패했습니다."));if(!d.Result)return void i(Error("응답 데이터가 없습니다."));let o=d.Result;r&&r(100),console.log("[TUS Upload] Cloudflare Stream 업로드 완료:",o.videoStreamId),l({videoStreamId:o.videoStreamId,embedUrl:o.embedUrl,thumbnailUrl:o.thumbnailUrl,hlsUrl:o.hlsUrl,dashUrl:o.dashUrl,videoInfo:o.videoInfo||{}})}catch(s){console.error("[TUS Upload] 완료 처리 오류:",s);let e="비디오 업로드 완료 처리에 실패했습니다.";s.response?.data?.IndeAPIResponse?.Message?e=s.response.data.IndeAPIResponse.Message:s.response?.data?.error?e=s.response.data.error:s.message&&(e=s.message),i(Error(e))}},onChunkComplete:(e,s,a)=>{console.log(`[TUS Upload] 청크 완료: ${e} bytes, 총 ${s}/${a} bytes`)}});m=p,p.start()}).catch(e=>{console.error("[TUS Upload] tus-js-client 로드 실패:",e),i(Error("TUS 업로드 클라이언트를 로드할 수 없습니다."))})}catch(e){console.error("[TUS Upload] 초기화 오류:",e),i(Error(`비디오 업로드 초기화 실패: ${e.message}`))}});e.s(["createVideo",0,l,"deleteVideo",0,d,"deleteVideos",0,o,"getVideo",0,r,"getVideoList",0,t,"updateVideo",0,i,"updateVideoStatus",0,n,"uploadVideoFile",0,c],83235),e.s(["CONTENT_TYPE",0,{VIDEO:"video",SEMINAR:"seminar"},"SORT_OPTIONS",0,{CREATED_AT:"createdAt",VIEW_COUNT:"viewCount",RATING:"rating",SHARE_COUNT:"shareCount"},"VIDEO_STATUS",0,{PUBLIC:"public",PRIVATE:"private",SCHEDULED:"scheduled",DELETED:"deleted"},"VISIBILITY_OPTIONS",0,[{value:"all",label:"전체 공개"},{value:"free",label:"무료 회원"},{value:"paid",label:"유료 회원"},{value:"purchased",label:"콘텐츠 구매자"}]],69716),e.s([],69104)},32095,e=>{"use strict";let s=(0,e.i(75254).default)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);e.s(["GraduationCap",()=>s],32095)},88755,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566),r=e.i(53145),l=e.i(94814),i=e.i(65638);e.i(69104);var d=e.i(83235),o=e.i(69716),n=e.i(8406),c=e.i(19455),m=e.i(93479),h=e.i(10204),p=e.i(67489),x=e.i(29288),u=e.i(99375),g=e.i(15288),v=e.i(48649),j=e.i(71689),f=e.i(37727),y=e.i(27612),N=e.i(75254);let b=(0,N.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),I=(0,N.default)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var S=e.i(78716),w=e.i(32095),E=e.i(22016),C=e.i(43174),U=e.i(69222),T=e.i(63816);let R=i.object({contentType:i.enum(["video","seminar"],{required_error:"콘텐츠 타입을 선택해주세요."}),category:i.string().min(1,"카테고리를 선택해주세요."),title:i.string().min(1,"제목을 입력해주세요."),subtitle:i.string().optional(),body:i.string().optional(),videoStreamId:i.string().optional(),videoUrl:i.string().optional(),speaker:i.string().optional(),speakerAffiliation:i.string().optional(),editor:i.string().optional(),director:i.string().optional(),visibility:i.string().min(1,"공개 범위를 선택해주세요."),status:i.string().min(1,"상태를 선택해주세요."),isNewBadge:i.boolean().default(!1),isMaterialBadge:i.boolean().default(!1),allowRating:i.boolean().default(!0),allowComment:i.boolean().default(!0),tags:i.array(i.string()).optional(),questions:i.array(i.string()).optional(),scheduledAt:i.string().optional()});function A(){let e=(0,t.useRouter)(),{toast:i}=(0,n.useToast)(),[N,A]=(0,a.useState)(""),[P,M]=(0,a.useState)(null),[L,k]=(0,a.useState)(""),[F,V]=(0,a.useState)(["",""]),[B,$]=(0,a.useState)([]),[z,D]=(0,a.useState)(null),[O,_]=(0,a.useState)(""),[G,q]=(0,a.useState)(!1),[H,Y]=(0,a.useState)(0),[K,W]=(0,a.useState)(!1),[Q,X]=(0,a.useState)(!1),[Z,J]=(0,a.useState)(!1),ee=Q||G||Z,{register:es,handleSubmit:ea,formState:{errors:et},setValue:er,watch:el,getValues:ei}=(0,r.useForm)({resolver:(0,l.zodResolver)(R),defaultValues:{contentType:"video",visibility:"",status:"private",isNewBadge:!1,isMaterialBadge:!1,allowRating:!0,allowComment:!0,tags:[],questions:["",""]}}),ed=el("status"),eo=el("contentType"),en=(0,C.getUserInfo)();(0,a.useEffect)(()=>{en&&er("editor",en.memberShipName||"")},[en,er]),(0,a.useEffect)(()=>{W(ed===o.VIDEO_STATUS.SCHEDULED)},[ed]);let ec=()=>{L.trim()&&(er("tags",[...ei("tags")||[],L.trim()]),k(""))},em=async s=>{try{let a,t;X(!0);let r=O;if(z&&!O)try{q(!0),Y(0),r=(await (0,d.uploadVideoFile)(z,e=>{Y(e)})).videoStreamId,_(r),er("videoStreamId",r)}catch(e){i({title:"오류",description:e.message||"비디오 업로드에 실패했습니다.",variant:"destructive",duration:15e3}),X(!1),q(!1);return}finally{q(!1),Y(0)}if(!r&&!s.videoUrl){i({title:"오류",description:"비디오 파일을 선택하거나 영상 URL을 입력해주세요.",variant:"destructive",duration:15e3}),X(!1);return}if(N)if(N.startsWith("data:image"))a=N;else if(N.length<=500)a=N;else{i({title:"경고",description:"썸네일 URL이 너무 깁니다. (최대 500자)",variant:"destructive",duration:3e3}),X(!1);return}if(s.scheduledAt){let e=new Date(s.scheduledAt);isNaN(e.getTime())||(t=e.toISOString())}let l=[];if(B.length>0)try{for(let e of(J(!0),B))if(e.file){let s=new FormData;s.append("file",e.file),s.append("folder","video/attachments/");let a=await T.default.post("/files/upload/",s,{headers:{"Content-Type":"multipart/form-data"}});if(a.data.IndeAPIResponse?.ErrorCode!=="00")throw Error(a.data.IndeAPIResponse?.Message||"첨부파일 업로드 실패");let t=a.data.IndeAPIResponse.Result;l.push({filename:t.original_filename||e.filename,url:t.url,size:t.size||e.size})}else e.url&&l.push({filename:e.filename,url:e.url,size:e.size})}catch(e){i({title:"오류",description:e.message||"첨부파일 업로드에 실패했습니다.",variant:"destructive",duration:3e3}),X(!1),J(!1);return}finally{J(!1)}let o={...s,videoStreamId:r||void 0,questions:F.filter(e=>""!==e.trim()),tags:s.tags?.filter(e=>""!==e.trim()),attachments:l,scheduledAt:t};void 0!==a&&(o.thumbnail=a),await (0,d.createVideo)(o),i({title:"성공",description:"비디오/세미나가 등록되었습니다.",duration:3e3}),e.push("/admin/video")}catch(e){i({title:"오류",description:e.message||"비디오/세미나 등록에 실패했습니다.",variant:"destructive",duration:3e3})}finally{X(!1)}};return(0,s.jsxs)("div",{className:"h-full space-y-6 relative",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(E.default,{href:"/admin/video",children:(0,s.jsxs)(c.Button,{variant:"ghost",size:"sm",children:[(0,s.jsx)(j.ArrowLeft,{className:"h-4 w-4 mr-2"}),"목록으로"]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"새 비디오/세미나 등록"}),(0,s.jsx)("p",{className:"text-gray-600",children:"비디오/세미나 정보를 입력하고 등록하세요."})]})]}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)(c.Button,{onClick:ea(em),disabled:Q,className:"bg-neon-yellow hover:bg-neon-yellow/90 text-black",children:Q?"저장 중...":"등록"})})]}),(0,s.jsxs)("form",{onSubmit:ea(em),className:"space-y-6",children:[(0,s.jsxs)(g.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"콘텐츠 기본 설정"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{children:"콘텐츠 타입 *"}),(0,s.jsxs)(x.RadioGroup,{value:eo,onValueChange:e=>er("contentType",e),className:"flex gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(x.RadioGroupItem,{value:o.CONTENT_TYPE.VIDEO,id:"video"}),(0,s.jsxs)(h.Label,{htmlFor:"video",className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)(S.Video,{className:"h-4 w-4"}),"비디오"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(x.RadioGroupItem,{value:o.CONTENT_TYPE.SEMINAR,id:"seminar"}),(0,s.jsxs)(h.Label,{htmlFor:"seminar",className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)(w.GraduationCap,{className:"h-4 w-4"}),"세미나"]})]})]}),et.contentType&&(0,s.jsx)("p",{className:"text-sm text-red-600",children:et.contentType.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"category",children:"카테고리 *"}),(0,s.jsx)(v.SysCodeSelect,{sysCodeGubn:"SYS26209B002",value:el("category"),onValueChange:e=>er("category",e),placeholder:"카테고리 선택"}),et.category&&(0,s.jsx)("p",{className:"text-sm text-red-600",children:et.category.message})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"visibility",children:"공개 범위 *"}),(0,s.jsxs)(p.Select,{value:el("visibility"),onValueChange:e=>er("visibility",e),children:[(0,s.jsx)(p.SelectTrigger,{children:(0,s.jsx)(p.SelectValue,{placeholder:"공개 범위 선택"})}),(0,s.jsx)(p.SelectContent,{children:o.VISIBILITY_OPTIONS.map(e=>(0,s.jsx)(p.SelectItem,{value:e.value,children:e.label},e.value))})]}),et.visibility&&(0,s.jsx)("p",{className:"text-sm text-red-600",children:et.visibility.message})]})]})]}),(0,s.jsxs)(g.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"핵심 데이터"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"video-upload",children:"영상 파일 업로드 *"}),(0,s.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,s.jsx)(S.Video,{className:"h-8 w-8 text-gray-400"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(h.Label,{htmlFor:"video-upload",className:"cursor-pointer",children:(0,s.jsx)("span",{className:"text-blue-600 hover:text-blue-700",children:"파일을 선택하거나 드래그 앤 드롭"})}),(0,s.jsx)(m.Input,{id:"video-upload",type:"file",accept:"video/mp4",className:"hidden",onChange:e=>{let s=e.target.files?.[0];if(s){if(!s.name.toLowerCase().endsWith(".mp4")){i({title:"오류",description:"MP4 파일만 업로드 가능합니다.",variant:"destructive",duration:15e3}),e.target.value="";return}if(s.size>0x80000000){i({title:"오류",description:`파일 크기가 2GB를 초과합니다. (현재: ${(s.size/0x40000000).toFixed(2)}GB)`,variant:"destructive",duration:15e3}),e.target.value="";return}D(s),_(""),er("videoStreamId","")}},disabled:G}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"MP4 파일만 업로드 가능합니다. (최대 2GB)"})]})]})}),G&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["업로드 중... ",H>0?`(${H.toFixed(2)}%)`:"(서버로 전송 중...)"]}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:z&&`${(z.size*H/100/1048576).toFixed(2)}MB / ${(z.size/1048576).toFixed(2)}MB`})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.max(H,1)}%`}})}),H>0&&H<100&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"큰 파일의 경우 서버로 전송하는 데 시간이 걸릴 수 있습니다. 잠시만 기다려주세요..."})]}),z&&(0,s.jsx)("div",{className:`mt-4 p-4 border rounded-lg ${O?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(S.Video,{className:`h-5 w-5 ${O?"text-green-600":"text-yellow-600"}`}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:`text-sm font-medium ${O?"text-green-900":"text-yellow-900"}`,children:z.name}),(0,s.jsxs)("p",{className:`text-xs ${O?"text-green-700":"text-yellow-700"}`,children:["크기: ",(z.size/1048576).toFixed(2),"MB",!O&&" (등록 버튼 클릭 시 업로드됩니다)"]})]})]}),(0,s.jsx)(c.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{D(null),_(""),er("videoStreamId","");let e=document.getElementById("video-upload");e&&(e.value="")},children:(0,s.jsx)(f.X,{className:"h-4 w-4"})})]})}),!z&&!G&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"MP4 파일을 선택해주세요. (등록 버튼 클릭 시 업로드됩니다)"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{children:"강의 자료 (첨부파일)"}),(0,s.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,s.jsx)(b,{className:"h-8 w-8 text-gray-400"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(h.Label,{htmlFor:"attachment-upload",className:"cursor-pointer",children:(0,s.jsx)("span",{className:"text-blue-600 hover:text-blue-700",children:"파일을 선택하거나 드래그 앤 드롭"})}),(0,s.jsx)(m.Input,{id:"attachment-upload",type:"file",className:"hidden",onChange:e=>{let s=e.target.files?.[0];s&&($([...B,{filename:s.name,size:s.size,file:s}]),e.target.value="")},disabled:Z,accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"PDF, DOC, XLS, PPT 등 강의 자료를 선택하세요 (등록 버튼 클릭 시 업로드)"})]})]})}),B.length>0&&(0,s.jsx)("div",{className:"mt-4 space-y-2",children:B.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(I,{className:"h-4 w-4 text-gray-500"}),(0,s.jsx)("span",{className:"text-sm",children:e.filename}),e.size&&(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["(",(e.size/1024).toFixed(2)," KB)"]})]}),(0,s.jsx)(c.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{$(B.filter((e,s)=>s!==a))},children:(0,s.jsx)(y.Trash2,{className:"h-4 w-4"})})]},a))})]})]})]}),(0,s.jsxs)(g.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"콘텐츠 정보"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"title",children:"메인 제목 *"}),(0,s.jsx)(m.Input,{id:"title",...es("title"),placeholder:"비디오/세미나 제목을 입력하세요"}),et.title&&(0,s.jsx)("p",{className:"text-sm text-red-600",children:et.title.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"subtitle",children:"서브 타이틀"}),(0,s.jsx)(m.Input,{id:"subtitle",...es("subtitle"),placeholder:"부제목을 입력하세요"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{children:"대표 썸네일"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[N&&(0,s.jsx)("div",{className:"relative w-48 h-32 rounded overflow-hidden border",children:(0,s.jsx)("img",{src:N,alt:"썸네일 미리보기",className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Input,{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];if(s){M(s);let e=new FileReader;e.onloadend=()=>{A(e.result)},e.readAsDataURL(s)}},className:"cursor-pointer"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"권장 사이즈: 1200x630px (16:9 비율)"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"body",children:"본문 상세 설명"}),(0,s.jsx)(U.RichTextEditor,{value:el("body")||"",onChange:e=>er("body",e),placeholder:"영상 상세 설명을 입력하세요"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{children:"키워드/태그"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(m.Input,{value:L,onChange:e=>k(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),ec())},placeholder:"태그 입력 후 Enter"}),(0,s.jsx)(c.Button,{type:"button",onClick:ec,children:"추가"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:(el("tags")||[]).map((e,a)=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 rounded-full text-sm",children:["#",e,(0,s.jsx)("button",{type:"button",onClick:()=>{er("tags",(ei("tags")||[]).filter((e,s)=>s!==a))},className:"text-gray-500 hover:text-red-600",children:(0,s.jsx)(f.X,{className:"h-3 w-3"})})]},a))})]})]})]}),(0,s.jsxs)(g.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"인물 및 연동 설정"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"speaker",children:"출연자/강사"}),(0,s.jsx)(m.Input,{id:"speaker",...es("speaker"),placeholder:"출연자 또는 강사 이름"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"speakerAffiliation",children:"출연자 소속"}),(0,s.jsx)(m.Input,{id:"speakerAffiliation",...es("speakerAffiliation"),placeholder:"소속 기관 또는 단체"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"editor",children:"에디터"}),(0,s.jsx)(m.Input,{id:"editor",...es("editor"),placeholder:"에디터 이름"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"director",children:"디렉터"}),(0,s.jsx)(m.Input,{id:"director",...es("director"),placeholder:"디렉터 이름"})]})]})]})]}),(0,s.jsxs)(g.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"상호작용 설정"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{children:"적용 질문 (Q1, Q2)"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"사용자의 인사이트 도출을 위한 질문을 입력하세요 (최대 2개)"}),F.map((e,a)=>(0,s.jsx)("div",{className:"flex gap-2 mb-2",children:(0,s.jsx)(m.Input,{value:e,onChange:e=>{var s;let t;return s=e.target.value,void((t=[...F])[a]=s,V(t))},placeholder:`Q${a+1}: 적용 질문 입력`})},a))]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.Switch,{checked:el("allowRating"),onCheckedChange:e=>er("allowRating",e)}),(0,s.jsx)(h.Label,{children:"별점 허용"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.Switch,{checked:el("allowComment"),onCheckedChange:e=>er("allowComment",e)}),(0,s.jsx)(h.Label,{children:"댓글 허용"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.Switch,{checked:el("isNewBadge"),onCheckedChange:e=>er("isNewBadge",e)}),(0,s.jsx)(h.Label,{children:"NEW 배지 표시"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.Switch,{checked:el("isMaterialBadge"),onCheckedChange:e=>er("isMaterialBadge",e)}),(0,s.jsx)(h.Label,{children:"자료 배지 표시"})]})]})]})]}),(0,s.jsxs)(g.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"발행 및 시스템 정보"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"status",children:"상태 *"}),(0,s.jsxs)(p.Select,{value:el("status"),onValueChange:e=>er("status",e),children:[(0,s.jsx)(p.SelectTrigger,{children:(0,s.jsx)(p.SelectValue,{placeholder:"상태 선택"})}),(0,s.jsxs)(p.SelectContent,{children:[(0,s.jsx)(p.SelectItem,{value:o.VIDEO_STATUS.PUBLIC,children:"공개"}),(0,s.jsx)(p.SelectItem,{value:o.VIDEO_STATUS.PRIVATE,children:"비공개"}),(0,s.jsx)(p.SelectItem,{value:o.VIDEO_STATUS.SCHEDULED,children:"예약"})]})]}),et.status&&(0,s.jsx)("p",{className:"text-sm text-red-600",children:et.status.message})]}),K&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"scheduledAt",children:"예약 일시 *"}),(0,s.jsx)(m.Input,{id:"scheduledAt",type:"datetime-local",...es("scheduledAt")}),et.scheduledAt&&(0,s.jsx)("p",{className:"text-sm text-red-600",children:et.scheduledAt.message})]})]})]})]}),ee&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black/30 flex items-center justify-center",children:(0,s.jsx)("div",{className:"bg-white rounded-full p-6 shadow-lg",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-neon-yellow border-t-transparent"})})})]})}e.s(["default",()=>A],88755)},47082,e=>{e.v(s=>Promise.all(["static/chunks/f1bf71287156caae.js"].map(s=>e.l(s))).then(()=>s(10545)))}]);